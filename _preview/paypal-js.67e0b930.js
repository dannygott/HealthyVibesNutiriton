/*!
 * paypal-js v5.0.5 (2022-04-21T21:11:36.416Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=d(t,e),i=r.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(n.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(c){i.dataset[c]!==n.dataset[c]&&(a=!1)}),a?r:null}function w(t){var e=t.url,r=t.attributes,n=t.onSuccess,i=t.onError,a=d(e,r);a.onerror=i,a.onload=n,document.head.insertBefore(a,document.head.firstElementChild)}function p(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),E(t);var r=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,c){var u=t[c].toString();return c.substring(0,5)==="data-"?a.dataAttributes[c]=u:a.queryParams[c]=u,a},{queryParams:{},dataAttributes:{}}),n=r.queryParams,i=r.dataAttributes;return{url:"".concat(e,"?").concat(v(n)),dataAttributes:i}}function v(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function b(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function d(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function E(t){var e=t["merchant-id"],r=t["data-merchant-id"],n="",i="";return Array.isArray(e)?e.length>1?(n="*",i=e.toString()):n=e.toString():typeof e=="string"&&e.length>0?n=e:typeof r=="string"&&r.length>0&&(n="*",i=r),t["merchant-id"]=n,t["data-merchant-id"]=i,t}function m(t,e){if(e===void 0&&(e=f()),s(t,e),typeof window>"u")return e.resolve(null);var r=p(t),n=r.url,i=r.dataAttributes,a=i["data-namespace"]||"paypal",c=o(a);return h(n,i)&&c?e.resolve(c):g({url:n,attributes:i},e).then(function(){var u=o(a);if(u)return u;throw new Error("The window.".concat(a," global variable is not available."))})}function g(t,e){e===void 0&&(e=f()),s(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();w({url:r,attributes:n,onSuccess:function(){return i()},onError:function(){var c=new Error('The script "'.concat(r,'" failed to load.'));return window.fetch?fetch(r).then(function(u){return u.status===200&&a(c),u.text()}).then(function(u){var l=b(u);a(new Error(l))}).catch(function(u){a(u)}):a(c)}})})}function f(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function o(t){return window[t]}function s(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}export{m as l};
