import{l as d}from"./paypal-js.67e0b930.js";import{u as m}from"./index.98bfb2b5.js";import{_ as v}from"./MoonLoader.vue_vue_type_style_index_0_lang.15aaa70a.js";import{d as g,r as p,o as P,s as f,a as c,c as u,b as i,f as b,i as h,h as _,V as S,t as w,j as x,F as B}from"./entry.ccfebbe1.js";const C={key:0,class:"card-el-error-msg"},k=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"20",height:"20"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),F=g({__name:"NewPaypalSmartBtnSubscription",props:{initiatePaypalPayment:{type:Function},onApprovePaypalPayment:{type:Function},onCancelPaypalPayment:{type:Function},paypalErrorMsg:{type:String},processingPayment:{type:Boolean},currency:{type:String,required:!1},disable:{type:Boolean},initiatePaypalResponse:{type:Object}},setup(n){const t=n,a=m(),l=p(),r=p(!1),y=()=>(r.value=!0,d({"client-id":a.value.paypalPublishableKey,"disable-funding":"credit,card","merchant-id":a.value.merchantAccountId,intent:"subscription",vault:!0,currency:a.value.merchantAccountId,"data-namespace":"paypal_subscriptions"}));return P(()=>{f(()=>{y().then(e=>{a.value.paypalSubscriptionInstance=e}).catch(e=>{console.error("Error in loading paypal",e)})}),setTimeout(()=>{var e,o;r.value=!1,(e=a==null?void 0:a.value)!=null&&e.paypalSubscriptionInstance&&((o=a==null?void 0:a.value)==null||o.paypalSubscriptionInstance.Buttons({createSubscription:t.initiatePaypalPayment,onApprove:s=>t.onApprovePaypalPayment(s,t.initiatePaypalResponse),onCancel:t.onCancelPaypalPayment}).render(l.value))},1500)}),(e,o)=>(c(),u(B,null,[i("div",{ref:s=>l.value=s,class:b(n.disable?"paypal-container-disabled":"paypal-container"),style:{"text-align":"center"}},null,2),h(v,{loading:_(r),color:"#188bf6",size:"30px",class:"loaderClass"},null,8,["loading"]),n.paypalErrorMsg?(c(),u("div",C,[k,S(" "+w(n.paypalErrorMsg),1)])):x("",!0)],64))}});export{F as default};
