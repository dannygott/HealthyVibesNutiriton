import{u as S}from"./composables.6e31dd6d.js";import{d as w,r as v,o as b,a7 as R,w as L,h as y,a as _,e as A}from"./entry.ccfebbe1.js";import{V as E,o as k}from"./optimize_script.3eba72ba.js";function p(){return p=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},p.apply(this,arguments)}var C=function(){var e=!1,t=[],r=function(){if(!e){e=!0;for(var d=0,s=t.length;d<s;d++)t[d]()}},n=function(d){if(!e){t.push(d);return}d()},c={resolved:function(){return e},resolve:r,promise:{then:n}};return c},m=Object.prototype.hasOwnProperty;function O(){var a=C();return{notify:function(){a.resolve()},wait:function(){return a.promise},render:function(t,r,n){this.wait().then(function(){n(window.grecaptcha.render(t,r))})},reset:function(t){typeof t>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(t)}))},execute:function(t){typeof t>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(t)}))},checkRecaptchaLoad:function(){m.call(window,"grecaptcha")&&m.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!a.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var u=O();typeof window<"u"&&(window.vueRecaptchaApiLoaded=u.notify);var j=w({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,t){var r=t.slots,n=t.emit,c=v(null),i=v(null),d=function(f){n("verify",f)},s=function(){n("expired")},g=function(){n("error")};return b(function(){if(u.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var o=document.createElement("script");o.id=e.recaptchaScriptId,o.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,o.async=!0,o.defer=!0,document.head.appendChild(o)}var f=p({},e,{callback:d,"expired-callback":s,"error-callback":g}),l=c.value,x=r.default?l.children[0]:l;u.render(x,f,function(h){i.value=h,n("render",h)})}),{root:c,widgetId:i,reset:function(){u.reset(i.value)},execute:function(){u.execute(i.value)}}},render:function(){var e=this.$slots.default,t;return typeof e=="function"?t=e():t=e,R("div",{ref:"root"},t)}});const B=w({__name:"Recaptcha",emits:["verify","expired"],setup(a,{emit:e}){const t=()=>{k(()=>{S({script:[{src:"https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit",async:!0,type:"text/javascript"}]})})},r=c=>{e("verify",c)},n=c=>{e("expired",c)};return(c,i)=>L((_(),A(y(j),{onExpired:n,onVerify:r,sitekey:"6LfcbMseAAAAAI-EJoB-lUh7_TJaYloLbcbmnhEO"},null,512)),[[y(E),t]])}});export{B as _};
