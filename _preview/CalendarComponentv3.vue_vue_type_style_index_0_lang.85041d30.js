import{d as ue,U as me,r as te,g as p,c as d,b as i,t as u,h as e,j as g,V as $,i as B,D as N,f as Y,a as s,H as _e,W as Ce,k as Ue,u as Ne,T as Se,o as ye,s as re,K as ee,n as se,m as U,e as ce,w as Ze,X as We,Y as Ge,x as Ke,y as Xe,Z as we,F as ke,l as De,_ as Je,I as Qe,C as et,$ as tt}from"./entry.ccfebbe1.js";import{u as at}from"./composables.6e31dd6d.js";/* empty css            */import{s as nt,t as de,g as it}from"./utils.c7339651.js";import{_ as ot,s as ge}from"./TextElement.vue_vue_type_style_index_0_lang.00d54afa.js";import{j as f,o as rt,t as le,r as he,q as lt}from"./helpers.9a9d5058.js";import{_ as st}from"./MoonLoader.vue_vue_type_style_index_0_lang.15aaa70a.js";import{a as ze,L as xe,l as Me,_ as ct}from"./advancedFormat.7978846e.js";import{u as Fe,t as Le}from"./timezone.4c6faa44.js";import{A as pe,_ as dt,C as Te}from"./FormComponent.vue_vue_type_style_index_1_lang.d728186a.js";import{i as ut,f as mt}from"./funnel_event_helper.bd666bbb.js";const ft={class:"p-b booking-info--duration"},vt=i("svg",{width:"1em",height:"1em",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M15.9808 1.26923C15.9808 1.96995 15.8816 2.65084 15.6833 3.3119C15.485 3.97296 15.1842 4.59766 14.7809 5.186C14.576 5.48347 14.3612 5.75451 14.1364 5.9991C13.9117 6.24369 13.6737 6.46514 13.4225 6.66346C13.1713 6.86178 12.9002 7.05018 12.6094 7.22867C12.3185 7.40715 12.0144 7.56911 11.6971 7.71454C11.4525 7.82692 11.2608 7.97897 11.122 8.17067C10.9832 8.36238 10.9105 8.60036 10.9038 8.88461C10.9038 9.16226 10.9733 9.39693 11.1121 9.58864C11.2509 9.78035 11.4459 9.9357 11.6971 10.0547C12.021 10.2067 12.3251 10.3687 12.6094 10.5406C12.8936 10.7124 13.1614 10.8975 13.4126 11.0959C13.6638 11.2942 13.905 11.5189 14.1364 11.7701C14.3678 12.0213 14.5826 12.2924 14.7809 12.5832C15.1776 13.165 15.4751 13.7864 15.6734 14.4474C15.8717 15.1085 15.9742 15.7927 15.9808 16.5H17.25V17.7692H0.75V16.5H2.01923C2.01923 15.7993 2.11839 15.1184 2.31671 14.4573C2.51502 13.7963 2.81581 13.1716 3.21905 12.5832C3.43059 12.2725 3.64874 11.9982 3.8735 11.7602C4.09826 11.5222 4.33293 11.3008 4.57752 11.0959C4.82212 10.8909 5.08984 10.7091 5.38071 10.5505C5.67157 10.3918 5.97897 10.2299 6.30288 10.0646C6.54086 9.95222 6.73257 9.79688 6.878 9.59856C7.02344 9.40024 7.09615 9.16226 7.09615 8.88461C7.09615 8.60697 7.02674 8.3723 6.88792 8.18059C6.7491 7.98888 6.55409 7.83353 6.30288 7.71454C5.97897 7.5625 5.67488 7.40054 5.39062 7.22867C5.10637 7.05679 4.83864 6.87169 4.58744 6.67338C4.33624 6.47506 4.09495 6.2503 3.86358 5.9991C3.63221 5.7479 3.41737 5.47686 3.21905 5.186C2.82242 4.60427 2.52494 3.98287 2.32662 3.32181C2.12831 2.66076 2.02584 1.97656 2.01923 1.26923H0.75V0H17.25V1.26923H15.9808ZM9.63461 8.88461C9.63461 8.34255 9.77674 7.8732 10.061 7.47656C10.3453 7.07993 10.7254 6.76593 11.2013 6.53455C11.393 6.44201 11.5781 6.35276 11.7566 6.26683C11.9351 6.18089 12.1103 6.07181 12.2822 5.9396C12.6656 5.67518 13.006 5.37109 13.3035 5.02734C13.601 4.68359 13.8555 4.3101 14.067 3.90685C14.2785 3.50361 14.4372 3.08053 14.543 2.63762C14.6487 2.19471 14.7049 1.73858 14.7115 1.26923H3.28846C3.28846 1.73197 3.34135 2.1848 3.44712 2.6277C3.55288 3.07061 3.71154 3.49369 3.92308 3.89693C4.13462 4.30018 4.38912 4.67368 4.6866 5.01743C4.98407 5.36118 5.32782 5.66857 5.71785 5.9396C5.88972 6.0652 6.0649 6.17097 6.24339 6.25691C6.42188 6.34285 6.60697 6.4354 6.79868 6.53455C7.27464 6.76593 7.65475 7.07993 7.939 7.47656C8.22326 7.8732 8.36538 8.34255 8.36538 8.88461C8.36538 9.42668 8.22326 9.89603 7.939 10.2927C7.65475 10.6893 7.27464 11.0033 6.79868 11.2347C6.60697 11.3272 6.42188 11.4165 6.24339 11.5024C6.0649 11.5883 5.88972 11.6974 5.71785 11.8296C5.33443 12.0941 4.99399 12.3981 4.69651 12.7419C4.39904 13.0856 4.14453 13.4591 3.93299 13.8624C3.72145 14.2656 3.5628 14.6887 3.45703 15.1316C3.35126 15.5745 3.29507 16.0306 3.28846 16.5H14.7115C14.7115 16.0373 14.6587 15.5844 14.5529 15.1415C14.4471 14.6986 14.2885 14.2755 14.0769 13.8723C13.8654 13.4691 13.6109 13.0956 13.3134 12.7518C13.0159 12.4081 12.6722 12.1007 12.2822 11.8296C12.1103 11.704 11.9351 11.5983 11.7566 11.5123C11.5781 11.4264 11.393 11.3338 11.2013 11.2347C10.7254 11.0033 10.3453 10.6893 10.061 10.2927C9.77674 9.89603 9.63461 9.42668 9.63461 8.88461Z",fill:"#B1B7BE"})],-1),gt={class:"booking-info-label"},ht={class:"booking-info-value"},pt={key:0,class:"p-b booking-info--datetime"},bt=i("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-calendar",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd",d:"M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"}),i("path",{"fill-rule":"evenodd",d:"M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z"})],-1),_t={class:"booking-info-label"},Ct={class:"booking-info-value text-capitalize"},St={class:"p-b booking-info--datetime"},yt=i("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-calendar",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd",d:"M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1zm1-3a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z"}),i("path",{"fill-rule":"evenodd",d:"M3.5 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5zm9 0a.5.5 0 0 1 .5.5V1a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 .5-.5z"})],-1),wt={class:"booking-info-label"},kt={key:0},Dt={key:1,class:"booking-info-value text-capitalize"},zt={key:0},xt={key:2,class:"booking-info-value"},Mt={key:3},Ft=["onClick"],Lt={style:{cursor:"pointer","text-decoration":"underline",color:"#178af6"}},Tt={class:"pointer"},Vt={key:1,class:"p-b booking-info--location"},Rt=i("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-geo-alt",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd",d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})],-1),$t={class:"booking-info-label"},Yt={class:"booking-info-value"},At={key:2,class:"p-b booking-info--timezone"},Bt=i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[i("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),i("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1),Pt={class:"booking-info-label"},Ht={class:"booking-info-value"},Et={class:"p-b booking-info--timezone"},Ot=i("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-globe2",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd",d:"M1.018 7.5h2.49c.037-1.07.189-2.087.437-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5zM3.05 3.049c.362.184.763.349 1.198.49.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm-.5 1.077c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.473.257 2.282.287V1.077zm0 4.014c-.91-.03-1.783-.145-2.591-.332a12.344 12.344 0 0 0-.4 2.741H7.5V5.091zm1 2.409V5.091c.91-.03 1.783-.145 2.591-.332.223.827.364 1.754.4 2.741H8.5zm-1 1H4.51c.035.987.176 1.914.399 2.741A13.596 13.596 0 0 1 7.5 10.91V8.5zm1 2.409V8.5h2.99a12.343 12.343 0 0 1-.399 2.741A13.596 13.596 0 0 0 8.5 10.91zm-1 1c-.81.03-1.577.13-2.282.287.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91zm-2.173 2.563a6.695 6.695 0 0 1-.597-.933 8.857 8.857 0 0 1-.481-1.078 8.356 8.356 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.52zM2.38 12.175c.47-.258.995-.482 1.565-.667A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.964 6.964 0 0 0 1.362 3.675zm8.293 2.297a7.01 7.01 0 0 0 2.275-1.521 8.353 8.353 0 0 0-1.197-.49 8.859 8.859 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zm.11-2.276A12.63 12.63 0 0 0 8.5 11.91v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872zm1.272-.688c.57.185 1.095.409 1.565.667A6.964 6.964 0 0 0 14.982 8.5h-2.49a13.355 13.355 0 0 1-.437 3.008zm.437-4.008h2.49a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zm-.74-3.96a8.854 8.854 0 0 0-.482-1.079 6.692 6.692 0 0 0-.597-.933c.857.355 1.63.875 2.275 1.521a8.368 8.368 0 0 1-1.197.49zm-.97.264c-.705.157-1.473.257-2.282.287V1.077c.67.204 1.335.82 1.887 1.855.143.268.276.56.395.872z"})],-1),It={class:"booking-info-label"},qt={key:0,class:"booking-info-value"},be=ue({__name:"CalendarBookingInfo",props:{selectedTimezone:{type:Object},dynamicHourFormat:{type:String},appointmentDateFormat:{type:String},calendar:{type:Object},calendarEvent:{type:Object,required:!1},selectedSlot:{type:Object},slotDuration:{type:Number},horizontal:{type:Boolean,default:!1},disableContactTimezone:{type:Boolean,default:!1},locationAddress:{type:String,required:!1},recurringRule:{type:String,required:!1},recurringSlots:{type:Array,required:!1,default:()=>[]},isRecurringLoading:{type:Boolean,default:!1},recurringObject:{type:Object,default:()=>{}}},setup(r){const S=r;f.extend(ze),f.extend(xe),f.extend(Me),f.extend(Fe),f.extend(Le);const{t:l}=me(),m=te(),y=()=>{m.value.showPopup()};p(()=>S.calendarEvent?f(S.calendarEvent.start_time).format("ddd, ll"):void 0);const L=p(()=>{if(S.selectedSlot){const w=S.selectedSlot;let o=f(w.format("YYYY-MM-DDTHH:mm"),S.selectedTimezone.value);return o=o.add(S.slotDuration,"m"),o.format(S.dynamicHourFormat)}return f().format(S.dynamicHourFormat)}),x=p(()=>Array.isArray(S.recurringSlots)&&S.recurringSlots.length),_=p(()=>x.value&&S.recurringSlots.filter(w=>!w.isUnavailable).length),E=p(()=>S.calendarEvent?`${f(S.calendarEvent.start_time).format("ddd, ll")} [
          ${f(S.calendarEvent.start_time).format(S.dynamicHourFormat)} -
          ${f(S.calendarEvent.end_time).format(S.dynamicHourFormat)}
          ]`:void 0);return(w,o)=>(s(),d("div",{class:Y([{"--horizontal":r.horizontal},"appointment_widgets--booking-info"])},[i("div",ft,[i("label",null,[vt,i("span",gt,u(e(l)("DURATION")),1)]),i("div",ht,u(r.slotDuration)+" Mins",1)]),r.calendarEvent?(s(),d("div",pt,[i("label",null,[bt,i("span",_t,u(e(l)("OLD"))+" "+u(e(l)("DATEANDTIME")),1)]),i("div",Ct,u(e(E)),1)])):g("",!0),i("div",St,[i("label",null,[yt,i("span",wt,u(e(l)("DATEANDTIME")),1)]),!r.isRecurringLoading&&e(x)?(s(),d("div",kt,u(e(_))+"/"+u(r.recurringObject.count)+" occurrences will be booked ",1)):g("",!0),r.appointmentDateFormat?(s(),d("div",Dt,[$(u(r.appointmentDateFormat)+" ",1),r.selectedSlot?(s(),d("span",zt," [ "+u(r.selectedSlot.format(r.dynamicHourFormat))+" - "+u(e(L))+" ] ",1)):g("",!0)])):(s(),d("div",xt,"-")),r.isRecurringLoading?(s(),d("div",Mt,[B(st,{loading:!0,color:"#178AF6",size:"25px"})])):e(x)?(s(),d("div",{key:4,onClick:N(y,["stop","prevent"])},[i("div",Lt,[i("span",Tt," +"+u(e(_)-1)+" more ",1)]),B(ct,{ref_key:"recurringModalRef",ref:m,recurringSlots:r.recurringSlots,recurrenceCount:r.recurringObject.count},null,8,["recurringSlots","recurrenceCount"])],8,Ft)):g("",!0)]),r.locationAddress&&r.locationAddress.toLowerCase()!=="generating gmeet link"?(s(),d("div",Vt,[i("label",null,[Rt,i("span",$t,u(e(l)("location")),1)]),i("div",Yt,u(r.locationAddress),1)])):g("",!0),r.recurringRule?(s(),d("div",At,[i("label",null,[Bt,i("span",Pt,u(e(l)("REPEATS")),1)]),i("div",Ht,u(r.recurringRule),1)])):g("",!0),i("div",Et,[i("label",null,[Ot,i("span",It,u(e(l)("timezone")),1)]),r.selectedTimezone?(s(),d("div",qt,u(r.selectedTimezone.label),1)):g("",!0)])],2))}}),ae=r=>(Ke("data-v-d3c08e86"),r=r(),Xe(),r),jt={class:"appointment_widgets--info"},Ut={class:"appointment_widgets--service-info"},Nt=["src"],Zt={class:"provider-branding mt-20"},Wt=["textContent"],Gt=["textContent"],Kt={key:0,class:"appointment_widget--staff-selection"},Xt={class:"appointment_widgets--staff-selection-label ml-2"},Jt={class:"custom-label"},Qt={key:0},ea=["src","alt"],ta={key:0},aa={key:0,class:"form-builder--item"},na={class:"h5"},ia={key:1},oa={key:1,class:"widgets-step-1"},ra={class:"widgets-date-timezone-wrapper"},la={key:0,class:"label-select-date"},sa={key:1,class:"label-select-date"},ca={class:"widgets-date-block"},da={key:0},ua=ae(()=>i("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M17 8.00012L9.62684 15.3733L8.92165 14.6681L15.0881 8.50159H1V7.49865H15.0881L8.92165 1.33214L9.62684 0.626953L17 8.00012Z",fill:"currentColor",stroke:"#178AF6","stroke-width":"0.5"})],-1)),ma={key:1,class:"datepick-info"},fa={class:"loader"},va={class:"widgets-timezone-picker"},ga=ae(()=>i("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-globe2",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd",d:"M1.018 7.5h2.49c.037-1.07.189-2.087.437-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5zM3.05 3.049c.362.184.763.349 1.198.49.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm-.5 1.077c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.473.257 2.282.287V1.077zm0 4.014c-.91-.03-1.783-.145-2.591-.332a12.344 12.344 0 0 0-.4 2.741H7.5V5.091zm1 2.409V5.091c.91-.03 1.783-.145 2.591-.332.223.827.364 1.754.4 2.741H8.5zm-1 1H4.51c.035.987.176 1.914.399 2.741A13.596 13.596 0 0 1 7.5 10.91V8.5zm1 2.409V8.5h2.99a12.343 12.343 0 0 1-.399 2.741A13.596 13.596 0 0 0 8.5 10.91zm-1 1c-.81.03-1.577.13-2.282.287.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91zm-2.173 2.563a6.695 6.695 0 0 1-.597-.933 8.857 8.857 0 0 1-.481-1.078 8.356 8.356 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.52zM2.38 12.175c.47-.258.995-.482 1.565-.667A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.964 6.964 0 0 0 1.362 3.675zm8.293 2.297a7.01 7.01 0 0 0 2.275-1.521 8.353 8.353 0 0 0-1.197-.49 8.859 8.859 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zm.11-2.276A12.63 12.63 0 0 0 8.5 11.91v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872zm1.272-.688c.57.185 1.095.409 1.565.667A6.964 6.964 0 0 0 14.982 8.5h-2.49a13.355 13.355 0 0 1-.437 3.008zm.437-4.008h2.49a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zm-.74-3.96a8.854 8.854 0 0 0-.482-1.079 6.692 6.692 0 0 0-.597-.933c.857.355 1.63.875 2.275 1.521a8.368 8.368 0 0 1-1.197.49zm-.97.264c-.705.157-1.473.257-2.282.287V1.077c.67.204 1.335.82 1.887 1.855.143.268.276.56.395.872z"})],-1)),ha={class:"option__desc"},pa={class:"option__title"},ba={class:"option_sub_title"},_a={key:0,class:"widgets-slot-block"},Ca={class:"widgets-time-slots"},Sa=["onClick"],ya={key:2},wa={key:0,class:"text-info"},ka=["textContent"],Da={key:0,class:"cal-row widgets-action-buttons"},za={class:"col-md-4"},xa=["disabled"],Ma=ae(()=>i("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M24 12H4.59375L12.4922 19.8984L10.8047 21.5977L0 10.8047L10.8047 0L12.4922 1.69922L4.59375 9.59766H24V12Z",fill:"var(--appointment_widgets-primary-color)"})],-1)),Fa={class:"col-md-8 widgets-action"},La={key:0},Ta=["disabled","textContent"],Va={key:1},Ra=["disabled","textContent"],$a=["disabled","textContent"],Ya={key:1,class:"appointment_widgets--booking appointment_widgets--confirmation"},Aa=ae(()=>i("div",{class:"widgets-confirmation-icon text-center"},[i("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("circle",{opacity:"0.09",cx:"48",cy:"48",r:"48",fill:"#8CC767"}),i("path",{d:"M65 32.3333V65H30V32.3333H37V30H39.3333V32.3333H55.6667V30H58V32.3333H65ZM32.3333 34.6667V39.3333H62.6667V34.6667H58V37H55.6667V34.6667H39.3333V37H37V34.6667H32.3333ZM62.6667 62.6667V41.6667H32.3333V62.6667H62.6667ZM54.6458 48.6667L50.2526 52.112L52.0938 57.8542L47.5 54.263L42.9062 57.8542L44.7474 52.112L40.3542 48.6667H45.8594L47.5 43.5625L49.1406 48.6667H54.6458Z",fill:"#8CC767"})])],-1)),Ba={class:"confirmation-message"},Pa={key:0,class:"confirmation-invite-text"},Ha={key:1,class:"hl_events-buttons"},Ea=["href"],Oa={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22",height:"22",viewBox:"0 0 48 48",style:{fill:"#000000"}},Ia=we('<g id="surface1" data-v-d3c08e86><path style="fill:#e0e0e0;" d="M 5.5 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 7.5 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.066406 2 11 L 2 37 C 2 38.933594 3.566406 40.5 5.5 40.5 Z " data-v-d3c08e86></path><path style="fill:#d9d9d9;" d="M 26 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 7.5 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.066406 2 11 Z " data-v-d3c08e86></path><path style="fill:#eeeeee;" d="M 6.746094 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11.5 Z " data-v-d3c08e86></path><path style="fill:#e0e0e0;" d="M 25.746094 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11.5 L 18.769531 31.617188 Z " data-v-d3c08e86></path><path style="fill:#ca3737;" d="M 42.5 9.5 L 5.5 9.5 C 3.566406 9.5 2 9.066406 2 11 L 2 37 C 2 38.933594 3.566406 40.5 5.5 40.5 L 7 40.5 L 7 12 L 41 12 L 41 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 9.5 42.5 9.5 Z " data-v-d3c08e86></path><path style="fill:#f5f5f5;" d="M 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.035156 2 11 C 2 12.207031 3.519531 13.257813 3.519531 13.257813 L 24 27.757813 L 44.480469 13.257813 C 44.480469 13.257813 46 12.207031 46 11 C 46 9.035156 44.433594 7.5 42.5 7.5 Z " data-v-d3c08e86></path><path style="fill:#e84f4b;" d="M 43.246094 7.582031 L 24 21 L 4.753906 7.582031 C 3.179688 7.917969 2 9.296875 2 11 C 2 12.207031 3.519531 13.257813 3.519531 13.257813 L 24 27.757813 L 44.480469 13.257813 C 44.480469 13.257813 46 12.207031 46 11 C 46 9.296875 44.820313 7.917969 43.246094 7.582031 Z " data-v-d3c08e86></path></g>',1),qa=[Ia],ja={class:"calendar-button__text"},Ua=["href"],Na={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22",height:"22",viewBox:"0 0 48 48",style:{fill:"#000000"}},Za=we('<g id="surface1" data-v-d3c08e86><path style="fill:#03a9f4;" d="M 21 31 C 21 32.105469 21.894531 33 23 33 L 40 33 C 41.105469 33 42 32.105469 42 31 L 42 16 C 42 14.894531 41.105469 14 40 14 L 23 14 C 21.894531 14 21 14.894531 21 16 Z " data-v-d3c08e86></path><path style="fill:#b3e5fc;" d="M 42 16.976563 L 42 16 C 42 15.570313 41.863281 15.175781 41.632813 14.851563 L 30.367188 21.785156 L 22.828125 17.128906 L 22.125 19 L 30.585938 24 Z " data-v-d3c08e86></path><path style="fill:#0277bd;" d="M 27 41.460938 L 6 37.460938 L 6 9.460938 L 27 5.460938 Z " data-v-d3c08e86></path><path style="fill:#ffffff;" d="M 21.214844 18.3125 C 20.117188 17.035156 18.671875 16.398438 16.886719 16.398438 C 14.996094 16.398438 13.480469 17.066406 12.335938 18.402344 C 11.191406 19.738281 10.613281 21.488281 10.613281 23.648438 C 10.613281 25.691406 11.179688 27.359375 12.304688 28.632813 C 13.429688 29.90625 14.898438 30.542969 16.683594 30.542969 C 18.523438 30.542969 20.015625 29.890625 21.15625 28.566406 C 22.300781 27.253906 22.867188 25.523438 22.867188 23.367188 C 22.867188 21.28125 22.316406 19.59375 21.214844 18.3125 Z M 19.050781 26.734375 C 18.480469 27.503906 17.710938 27.886719 16.734375 27.886719 C 15.796875 27.886719 15.035156 27.492188 14.449219 26.699219 C 13.871094 25.914063 13.582031 24.839844 13.582031 23.488281 C 13.582031 22.152344 13.871094 21.074219 14.449219 20.265625 C 15.035156 19.453125 15.820313 19.054688 16.804688 19.054688 C 17.769531 19.054688 18.523438 19.445313 19.074219 20.230469 C 19.628906 21.027344 19.90625 22.125 19.90625 23.539063 C 19.90625 24.90625 19.617188 25.96875 19.050781 26.734375 Z " data-v-d3c08e86></path></g>',1),Wa=[Za],Ga={class:"calendar-button__text"},Ka=ue({__name:"CalendarService",props:{calendarProvider:{type:Object,required:!1,default:()=>({})},calendarService:{type:Object,required:!1,default:()=>({})},calenderTimezone:{type:String,required:!0},isForSpecificService:{type:Boolean,required:!1,default:!1},calendarEvent:{type:Object,required:!1},calendarEventId:{type:String,required:!1},isForCancellation:{type:Boolean,required:!1,default:!1},isForReschedule:{type:Boolean,default:!1},isMobileVersion:{type:Boolean,default:!1},isTabletVersion:{type:Boolean,default:!1},redirect:{type:Boolean,default:!0},use24hFormat:{type:Boolean,default:!1},funnelPreview:{type:Boolean,default:!1},pageUrl:{type:String,default:void 0},baseReferrrer:{type:String,default:void 0},urlParams:{type:Object,default:void 0},stickyContactData:{type:Object,default:void 0},stickyContactFingerprint:{type:String,default:void 0}},emits:["clear-calendar-service","on-submit","moveToNextMonth"],setup(r,{emit:S}){const l=r;f.extend(ze),f.extend(xe),f.extend(Me),f.extend(Fe),f.extend(Le);const{t:m,locale:y}=me(),L=_e(),x=Ce(),_=Ue().public,{$bus:E}=Ne(),w=te("en"),o=te(),Z=p(()=>!!l.calendarService.recurringRule),O=p(()=>(!l.isForSpecificService||t.currentCalendarStep!==1||l.isMobileVersion&&t.appointmentDate)&&!t.isBackButtonDisabled),I=p(()=>!l.isMobileVersion||t.currentCalendarStep!==1&&t.appointmentDate),W=p(()=>de(l.calendarService.description,{length:240})),q=p(()=>{w.value;const n=[...f.weekdaysShort()];return n.push(n.shift()),n}),G=p(()=>(w.value,f.months())),T=p(()=>(w.value,l.calendarProvider&&l.calendarProvider.disableContactTimezone)),D=p(()=>{var a;return w.value,T.value?l.calenderTimezone:(a=t.selectedTimezone)==null?void 0:a.value}),K=p(()=>f(t.appointmentDate).tz(D.value)),j=p(()=>(w.value,f(t.appointmentDate).format("ddd, ll")));p(()=>l.calendarEvent?f(l.calendarEvent.start_time).format("ddd, ll"):void 0);const M=p(()=>(w.value,l.use24hFormat?"HH:mm":"hh:mm A")),X=p(()=>t.filterTimezone?t.availableTimezones.filter(a=>a.label.toLowerCase().includes(t.filterTimezone.toLowerCase())):t.availableTimezones),b=p(()=>it(t.daySlots,f(t.appointmentDate).format("YYYY-MM-DD")+".slots",[]).map(a=>f(a).tz(D.value))),v=p(()=>{const a=l.calendarService.team_members.map(n=>({text:n.full_name,value:n.user_id,img:n.profile_photo||"",profileColor:je(n.full_name)}));return[{text:m("choose_any_staff"),value:-1}].concat(a)}),k=p(()=>l.calendarProvider&&l.calendarProvider.startDayOfWeek),h=p(()=>[{tag:"first_name",label:m("first_name"),active:!1,placeholder:m("first_name"),type:"text",required:!0},{placeholder:m("last_name"),type:"text",required:!0,tag:"last_name",label:m("last_name"),active:!1},{placeholder:m("phone"),type:"text",required:!0,tag:"phone",label:m("phone"),active:!1},{active:!1,type:"email",required:!0,placeholder:m("email"),tag:"email",label:m("email")},{active:!1,type:"textarea",required:!1,placeholder:m("anything_youd_like_to_know_before_appointment"),tag:"calendar_notes",label:m("additional_information")},{label:"Button",tag:"button",type:"submit",placeholder:"Button"}]),A=p(()=>l.calendarService?l.calendarService.pixel_id:null),J=f.tz.guess(),t=Se({timezone:J,calendarStartingDate:f().tz(J).format("YYYY-M-D"),appointmentDate:void 0,calendarRange:{from:f().tz(J).format("YYYY-M-D")},availableTimezones:[],selectedTimezone:void 0,selectedStaffMember:void 0,filterTimezone:"",formData:void 0,appointmentId:void 0,seqCall:0,isLoading:!1,isFetchingSlots:!1,isBackButtonDisabled:!1,isNextMonthDisabled:!1,submissionError:"",daySlots:{},availableTimes:[],showNoDates:!1,selectedSlot:null,showRecurringSlots:!1,recurringSlots:[],loadingRecurringSlots:!1,currentCalendarStep:1,cancellationNote:"",isCancelled:!1,showFullDecsription:!1,locationAddress:void 0,formThankyouMessage:void 0,guests:[]});if(l.calendarService.availability_type==pe.STANDARD&&l.calendarService.allow_booking_for_unit&&l.calendarService.allow_booking_for){const a=f().tz(t.timezone).add(l.calendarService.allow_booking_for,l.calendarService.allow_booking_for_unit).endOf("day");t.calendarRange.to=f(a).tz(f.tz.guess(),!0).format("YYYY-M-D")}l.calendarService.availability_type==pe.STANDARD&&l.calendarService.allow_booking_after_unit&&l.calendarService.allow_booking_after_unit!=="hours"&&l.calendarService.allow_booking_after&&(t.calendarRange.from=f().tz(t.timezone).add(l.calendarService.allow_booking_after,l.calendarService.allow_booking_after_unit).startOf("day").format("YYYY-M-D")),ye(async()=>{var a;if(y.value!=="en"&&(window.dayjs=f,await rt(`unpkg.com/dayjs@1.8.21/locale/${y.value}.js`,()=>{f.locale(y.value),w.value=y.value})),P(),Re(),T.value&&Q(!0,!0),(a=l.calendarService.team_members)!=null&&a.length){const n=L.query.user_id,C=v.value.findIndex(c=>c.value===n);t.selectedStaffMember=C>-1?v.value[C]:v.value[0]}!l.funnelPreview&&A.value!==void 0&&A.value!==""&&re(()=>{ut(A.value)}),re(()=>{if(l.calendarService&&l.calendarService.code_block){const n=document.createRange();n.setStart(document.head,0),document.body.appendChild(n.createContextualFragment(l.calendarService.code_block))}})}),ee(()=>t.selectedTimezone,()=>{Q(!0,l.isMobileVersion===!1)}),ee(()=>t.appointmentDate,a=>{a&&(t.selectedSlot=void 0)}),ee(()=>t.selectedSlot,a=>{try{if(Z.value&&a){t.showRecurringSlots=!0;const n=new Date(a).getTime();ne(n,t.selectedTimezone.value)}else t.showRecurringSlots=!1,t.recurringSlots=[]}catch(n){console.error(n),t.showRecurringSlots=!1,t.recurringSlots=[]}});async function ne(a,n){t.loadingRecurringSlots=!0;const C=await Te.getRecurringSlots(l.calendarService.id,{selectedSlot:a,timezone:n});t.recurringSlots=C.map(c=>{const z=f(String(c.slot).split("T")[0]).format("ddd, ll"),V=f(c.slot).tz(n),F=V.format(M.value);let R=f(V.format("YYYY-MM-DDTHH:mm"),n);R=R.add(l.calendarService.slot_duration,"m");const H=R.format(M.value);return{text:`${z} [ ${F} - ${H} ]`,isUnavailable:c.status!=="AVAILABLE"}}),t.loadingRecurringSlots=!1}function P(){le.includes(t.timezone)||le.push(t.timezone),t.availableTimezones=nt(le.map(a=>{const n=f().tz(a);return{label:`GMT${n.format("Z")} ${a} (${n.format("z")})`,sortFormat:n.format("z"),value:a,currentTime:n.format(M.value),utcOffset:n.utcOffset()}}),"utcOffset"),t.selectedTimezone=t.availableTimezones.find(a=>a.value===(T.value?l.calenderTimezone:t.timezone))}function Ve(a){x.push({path:L.fullPath,query:{user_id:a.value!==-1?a.value:void 0}}),setTimeout(()=>{Q(!0,l.isMobileVersion===!1)},100)}async function Re(){if(l.calendarService&&!l.calendarService.form_id)t.formData=$e();else{const a=await $fetch(_.newBaseURL+"/form/"+l.calendarService.form_id),n=a.form.fields;if(n.length>0){n[n.length-1],a.form.button={background:"#188bf6",color:"#fff",border:{border:0,padding:15,radius:4}};const c=n.find(z=>z.type==="submit")?1:0;l.calendarService.stripe&&n.splice(n.length-c,0,{tag:"payment",label:"Payment",active:!1,placeholder:"",type:"payment",required:!0})}a.form.style.marginTop="10px",a.form.width="auto",t.formData=a}}function $e(){const a={},n=h.value;return a.form=[],l.calendarService.stripe&&n.push({tag:"payment",label:m("payment"),active:!1,placeholder:"",type:"payment",required:!0}),a.form={width:"550",formLabelVisible:!0,fbPixelId:"",layout:!0,customStyle:"",stickyContact:!!l.calendarService.sticky_contact,fields:n,align:"center"},a.country=l.calendarProvider.country,a.locationId=l.calendarService.location_id,a}function fe({month:a,year:n}){t.calendarStartingDate=`${n}-${a+1}-1`,t.selectedSlot=void 0,Q(!0,!0)}function Ye(a){t.isNextMonthDisabled=a}async function Q(a=!1,n=!1){t.isLoading=!0,t.isFetchingSlots=!0,a&&(t.daySlots={}),t.showNoDates=!1,t.seqCall++;const C=t.seqCall,c=f(t.calendarStartingDate,"YYYY-M-D"),z=c.clone().startOf("month"),V=c.clone().endOf("month"),F=await $fetch(_.newBaseURL+"/appointment/free-slots",{params:{calendar_id:l.calendarService.id,startDate:z.valueOf(),endDate:V.valueOf(),timezone:D.value,user_id:L.query.user_id}});if(C!==t.seqCall)return;t.daySlots={...t.daySlots,...F},t.availableTimes=Object.keys(F).map(H=>f(H).format("YYYY-M-D"));const R=Object.keys(F).filter(H=>H!=="traceId");n&&R.length>0?f(R[0],"YYYY-M-D").isSame(f(t.calendarStartingDate,"YYYY-M-D"),"month")&&(l.isMobileVersion||(t.appointmentDate=Object.keys(F)[0])):R.length===0&&(t.showNoDates=!0),t.isLoading=!1,t.isFetchingSlots=!1}function ie(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function Ae(a){var z,V,F;let{to:n,from:C}=t.calendarRange,c=a;try{if(n&&(n=(z=f(n,"YYYY-M-D"))==null?void 0:z.tz(D.value)),C=(F=(V=f(C,"YYYY-M-D"))==null?void 0:V.tz(D.value))==null?void 0:F.hour(0),a=f(ie(a),"YYYY-M-D").tz(D.value,!0),n&&(a==null?void 0:a.isAfter(n))||C&&(a==null?void 0:a.isBefore(C)))return!0}catch{if(n&&new Date(ie(a))>new Date(n)||C&&new Date(ie(a))<new Date(C))return!0}return t.availableTimes.length>0?!t.availableTimes.includes(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()):!0}function Be(){t.currentCalendarStep===1?l.isMobileVersion&&t.appointmentDate?(t.selectedSlot=void 0,t.appointmentDate=void 0):S("clear-calendar-service"):t.currentCalendarStep--}function oe(){t.currentCalendarStep===1?l.isForReschedule?Pe():t.currentCalendarStep++:t.currentCalendarStep===2&&E.$emit("submitCalendarForm",{isRecurring:Z.value})}async function Pe(){t.isLoading=!0,await $fetch(_.baseUrl+"/appointment",{method:"POST",body:{event_id:l.calendarEventId,selected_slot:t.selectedSlot,timezone:D.value,calendar_id:l.calendarService.id}}),t.appointmentId=l.calendarEventId,t.currentCalendarStep=3,t.isLoading=!1}function He(a){re(()=>{mt("track","Schedule",(a==null?void 0:a.fbEventId)||"")});const n=L.query.redirect||void 0;if(window.parent.postMessage(["msgsndr-booking-complete",{fingerprint:a.fingerprint,calendarId:l.calendarService.id}],"*"),n==="false"||n===!1||l.redirect===!1){S("on-submit",a);return}const C=a.calendarThankYouUrl||l.calendarService.form_submit_type==="RedirectURL"&&l.calendarService.form_submit_redirect_url;if(C){let c=he(C,a.cookiePayload);c||(c=he(a.calendarThankYouUrl,a.cookiePayload)),window.top.location.href=c}else t.formThankyouMessage=lt(l.calendarService.form_submit_thanks_message,a.cookiePayload),t.appointmentId=a.id,t.locationAddress=a.event_address,t.currentCalendarStep++}function Ee(a){a&&a.error&&(t.submissionError=a.error),t.isBackButtonDisabled=!1}function Oe(a){t.isBackButtonDisabled=a.disable}async function Ie(){t.isLoading=!0,await $fetch(_.baseUrl+`/appointment/${l.calendarEventId}/cancel`,{method:"POST",body:{reason:t.cancellationNote}}),t.isCancelled=!0,t.isLoading=!1}function ve(a){t.showFullDecsription&&(!a||!l.isTabletVersion&&!l.isMobileVersion)&&(t.showFullDecsription=!1)}function qe(a){var n,C,c;try{return a.trim()?a.trim().split(" ").length>=2?((n=a.split(" ")[0][0])==null?void 0:n.toUpperCase())+((C=a.split(" ")[1][0])==null?void 0:C.toUpperCase()):(c=a.split(" ")[0][0])==null?void 0:c.toUpperCase():"-"}catch{return"-"}}function je(a){let n=0;if(a.length==0)return n;for(let c=0;c<a.length;c++)n=a.charCodeAt(c)+((n<<5)-n),n=n&n;return"hsl("+Math.abs(n)%360+",35%, 60%)"}return p(()=>{var a,n;return((a=l.calendarService)==null?void 0:a.stripe)&&Object((n=l.calendarService)==null?void 0:n.stripe).hasOwnProperty("amount")}).value&&at({script:[{src:"https://js.stripe.com/v3/",async:!0,type:"text/javascript"}]}),(a,n)=>{var C;return e(t).currentCalendarStep!==3?(s(),d("div",{key:0,class:"appointment_widgets--booking",onClick:n[8]||(n[8]=c=>ve(!0))},[i("div",{class:Y(["cal-row appointment_widgets--container",{"has-action-buttons":r.isForCancellation||e(O)||e(I)}])},[i("div",jt,[i("div",Ut,[r.calendarService&&r.calendarService.widget_logo&&r.calendarService.widget_logo.url?(s(),d("img",{key:0,class:"appointment_widgets--neo-calendar-logo",src:r.calendarService.widget_logo.url||"",style:se(r.calendarService.widget_logo.shape==="round"?{borderRadius:"50%"}:"")},null,12,Nt)):g("",!0),i("div",Zt,[i("h6",{class:"provider-name",textContent:u(((C=r.calendarProvider)==null?void 0:C.calendar_provider_name)||"")},null,8,Wt)]),i("h4",{class:"widgets--service-name",textContent:u(r.calendarService.name)},null,8,Gt),i("p",{class:Y(["widgets--service-description",{"show-more":e(t).showFullDecsription}])},[$(u(e(t).showFullDecsription?r.calendarService.description:e(W))+" ",1),r.calendarService&&r.calendarService.description&&r.calendarService.description.length>240&&!e(t).showFullDecsription?(s(),d("span",{key:0,class:"pointer",onClick:n[0]||(n[0]=N(c=>e(t).showFullDecsription=!0,["stop","prevent"]))},u(e(m)("more")),1)):r.calendarService&&r.calendarService.description&&r.calendarService.description.length>240?(s(),d("span",{key:1,class:"pointer",onClick:n[1]||(n[1]=N(c=>ve(!1),["stop","prevent"]))},u(e(m)("less")),1)):g("",!0)],2)]),i("div",null,[r.calendarService.enable_staff_selection?(s(),d("div",Kt,[i("span",Xt,u(e(m)("select_staff_member")),1),B(e(ge),{modelValue:e(t).selectedStaffMember,"onUpdate:modelValue":n[2]||(n[2]=c=>e(t).selectedStaffMember=c),closeOnSelect:!0,allowEmpty:!1,"show-labels":!1,options:e(v),label:"text",disabled:e(t).currentCalendarStep!==1||e(t).isLoading,"track-by":"value",class:"multi_select_calendar",style:{"margin-bottom":"12px",background:"#ffffff !important"},onSelect:Ve},{option:U(({option:c})=>[i("div",Jt,[c.value!==-1?(s(),d("div",Qt,[c.img?(s(),d("img",{key:0,class:"avatar_img",src:c.img,alt:c.text},null,8,ea)):(s(),d("div",{key:1,class:"avatar_img",style:se({backgroundColor:c.profileColor})},u(qe(c.text)),5))])):g("",!0),i("div",null,u(c.text),1)])]),_:1},8,["modelValue","options","disabled"])])):g("",!0),r.isForCancellation?g("",!0):(s(),ce(be,{key:1,calendarEvent:r.calendarEvent,selectedTimezone:e(t).selectedTimezone,disableContactTimezone:e(T),appointmentDateFormat:e(j),selectedSlot:e(t).selectedSlot,slotDuration:r.calendarService.slot_duration,dynamicHourFormat:e(M),locationAddress:e(t).locationAddress,recurringRule:r.calendarService.recurringRule,recurringSlots:e(t).recurringSlots,isRecurringLoading:e(t).loadingRecurringSlots,recurringObject:r.calendarService.recurring},null,8,["calendarEvent","selectedTimezone","disableContactTimezone","appointmentDateFormat","selectedSlot","slotDuration","dynamicHourFormat","locationAddress","recurringRule","recurringSlots","isRecurringLoading","recurringObject"]))])]),i("div",{class:Y([{"selected-date":e(t).appointmentDate&&!e(t).isLoading},{"step-form":e(t).currentCalendarStep===2},"appointment_widgets--steps"])},[r.isForCancellation?(s(),d("div",ta,[e(t).isCancelled?(s(),d("h5",ia,u(e(m)("your_appointment_has_been_cancelled")),1)):(s(),d("div",aa,[i("label",na,u(e(m)("cancellation_reason")),1),Ze(i("textarea",{"onUpdate:modelValue":n[3]||(n[3]=c=>e(t).cancellationNote=c),class:"form-control",rows:"5",style:{resize:"none"}},null,512),[[We,e(t).cancellationNote]])]))])):e(t).currentCalendarStep===1?(s(),d("div",oa,[i("div",ra,[r.isMobileVersion?(s(),d("h4",la,u(e(t).appointmentDate?e(m)("choose_time_slot"):e(m)("select_a_date")),1)):(s(),d("h4",sa,u(e(m)("select_a_date_and_time")),1)),i("div",ca,[B(ot,{ref_key:"datePickerRef",ref:o,modelValue:e(t).appointmentDate,"onUpdate:modelValue":n[4]||(n[4]=c=>e(t).appointmentDate=c),format:"YYYY-MM-DD",displayFormat:"YYYY-MM-DD",hasInputElement:!1,isDateDisabled:Ae,disablePeriodControl:!0,calendarRange:e(t).calendarRange,placeholder:e(m)("date_of_birth"),joinNextPreviousArrow:!0,onChangedMonth:fe,onChangedYear:fe,onDisableNextMonth:Ye,weekdays:e(q),months:e(G),nextMonthCaption:e(m)("next_month"),prevMonthCaption:e(m)("previous_month"),class:"date-picker-calendar",startDayOfWeek:e(k)},null,8,["modelValue","calendarRange","placeholder","weekdays","months","nextMonthCaption","prevMonthCaption","startDayOfWeek"]),!e(t).isLoading&&e(t).showNoDates?(s(),d("div",{key:0,onClick:n[6]||(n[6]=c=>e(o).incrementMonth()),class:"datepick-info"},[e(K)?(s(),d("div",da,[$(u(e(m)("no_slot_available_this_month"))+" ",1),e(t).isNextMonthDisabled?g("",!0):(s(),d("a",{key:0,onClick:n[5]||(n[5]=c=>a.$emit("moveToNextMonth",1))},[$(u(e(m)("go_to_next_month"))+" ",1),ua]))])):g("",!0)])):g("",!0),e(t).isFetchingSlots?(s(),d("div",ma,[i("div",fa,u(e(m)("finding_open_available_slots")),1)])):g("",!0),i("div",va,[e(T)?g("",!0):(s(),ce(e(ge),{key:0,modelValue:e(t).selectedTimezone,"onUpdate:modelValue":n[7]||(n[7]=c=>e(t).selectedTimezone=c),closeOnSelect:!0,allowEmpty:!1,"show-labels":!1,options:e(X),label:"label",placeholder:e(m)("type_here_to_search_timezone"),class:"multi_select_calendar"},{singleLabel:U(c=>[ga,$(" "+u(c.option.label),1)]),option:U(c=>[i("div",ha,[i("span",pa,u(c.option.label),1),i("span",ba,u(c.option.currentTime),1)])]),noResult:U(()=>[$(u(e(m)("no_timezone_found")),1)]),_:1},8,["modelValue","options","placeholder"]))])])]),B(Ge,{name:r.isMobileVersion?"":"fade"},{default:U(()=>[e(t).appointmentDate&&!e(t).isLoading?(s(),d("div",_a,[i("ul",Ca,[(s(!0),d(ke,null,De(e(b),(c,z)=>(s(),d("li",{class:Y(["widgets-time-slot",{actived:e(t).selectedSlot&&e(t).selectedSlot.valueOf()===c.valueOf()}]),key:z,onClick:V=>e(t).selectedSlot=c},[i("span",null,u(c.format(e(M))),1),r.isMobileVersion?(s(),d("button",{key:0,class:"btn",onClick:oe},u(e(m)("select_time")),1)):g("",!0)],10,Sa))),128))])])):g("",!0)]),_:1},8,["name"])])):e(t).currentCalendarStep===2?(s(),d("div",ya,[r.calendarService.form_id?g("",!0):(s(),d("h4",wa,u(e(m)("enter_your_information")),1)),e(t).submissionError?(s(),d("div",{key:1,textContent:u(e(t).submissionError),class:"error appointment-error"},null,8,ka)):g("",!0),B(dt,{timezone:e(D),formId:r.calendarService.form_id,formData:e(t).formData,guests:e(t).guests,calendar:r.calendarService,selectedSlot:e(t).selectedSlot,onStep:He,onProcessError:Ee,onDisableBackOnSubmit:Oe,calendarEventId:r.calendarEventId,forCalendarV3:!0,class:"hl_widget-step2",funnelPreview:r.funnelPreview,pageUrl:r.pageUrl,urlParams:r.urlParams,baseReferrrer:r.baseReferrrer,stickyContactData:r.stickyContactData,stickyContactFingerprint:r.stickyContactFingerprint},null,8,["timezone","formId","formData","guests","calendar","selectedSlot","calendarEventId","funnelPreview","pageUrl","urlParams","baseReferrrer","stickyContactData","stickyContactFingerprint"])])):g("",!0)],2)],2),r.isForCancellation||e(O)||e(I)?(s(),d("footer",Da,[i("div",za,[e(O)?(s(),d("a",{key:0,onClick:Be,class:"action-back-link",disabled:e(t).isBackButtonDisabled},[Ma,$(" "+u(e(m)("back")),1)],8,xa)):g("",!0)]),i("div",Fa,[r.isForCancellation?(s(),d("div",La,[e(t).isCancelled?g("",!0):(s(),d("button",{key:0,class:"btn",onClick:Ie,disabled:!e(t).cancellationNote||e(t).isLoading,textContent:u(e(t).isLoading?e(m)("cancelling"):e(m)("cancel_appointment"))},null,8,Ta))])):r.isForReschedule?(s(),d("div",Va,[i("button",{class:"btn",onClick:oe,disabled:!e(t).selectedSlot||e(t).isLoading,textContent:u(e(t).isLoading?e(m)("rescheduling"):e(m)("Reschedule"))},null,8,Ra)])):e(I)?(s(),d("button",{key:2,class:"btn btn-schedule",onClick:oe,disabled:!e(t).selectedSlot||e(t).isBackButtonDisabled||e(t).isLoading||e(t).loadingRecurringSlots,textContent:u(e(t).currentCalendarStep===1?e(t).isLoading||e(t).loadingRecurringSlots?e(t).isLoading?e(m)("fetching_slots"):e(m)("fetching_recurring_slots"):e(m)("continue"):e(t).isBackButtonDisabled?e(m)("scheduling"):e(m)("schedule_meeting"))},null,8,$a)):g("",!0)])])):g("",!0)])):(s(),d("div",Ya,[i("div",null,[Aa,i("h5",Ba,u(r.isForReschedule?e(m)("your_meeting_has_been_rescheduled"):e(m)("your_meeting_has_been_scheduled")),1),e(t).formThankyouMessage?(s(),d("p",Pa,u(e(t).formThankyouMessage)+" ",1)):g("",!0),B(be,{calendarEvent:r.calendarEvent,disableContactTimezone:e(T),selectedTimezone:e(t).selectedTimezone,appointmentDateFormat:e(j),selectedSlot:e(t).selectedSlot,slotDuration:r.calendarService.slot_duration,dynamicHourFormat:e(M),horizontal:!0,locationAddress:e(t).locationAddress,recurringRule:r.calendarService.recurringRule,recurringSlots:e(t).recurringSlots,isRecurringLoading:e(t).loadingRecurringSlots,recurringObject:r.calendarService.recurring},null,8,["calendarEvent","disableContactTimezone","selectedTimezone","appointmentDateFormat","selectedSlot","slotDuration","dynamicHourFormat","locationAddress","recurringRule","recurringSlots","isRecurringLoading","recurringObject"]),e(t).appointmentId?(s(),d("div",Ha,[i("a",{href:e(_).baseUrl+`/google/calendar/add-event/${e(t).appointmentId}`,class:"calendar-button",target:"_blank"},[(s(),d("svg",Oa,qa)),i("span",ja,u(e(m)("add_to_google_calendar")),1)],8,Ea),i("a",{href:e(_).baseUrl+`/google/calendar/get-ics/${e(t).appointmentId}`,class:"calendar-button",target:"_blank"},[(s(),d("svg",Na,Wa)),i("span",Ga,u(e(m)("add_to_outlook_ical")),1)],8,Ua)])):g("",!0)])]))}}});const Xa=Je(Ka,[["__scopeId","data-v-d3c08e86"]]),Ja={class:"appointment_widgets--branding"},Qa=["textContent"],en={class:"appointment_widgets--services"},tn=["onMouseover","onClick"],an=["textContent"],nn=["textContent"],pn=ue({__name:"CalendarComponentv3",props:["calendarData","directWidget","redirect","funnelPreview","pageUrl","baseReferrrer","urlParams","stickyContactData","stickyContactFingerprint"],emits:["on-submit"],async setup(r,{emit:S}){var D,K,j,M,X;let l,m;const y=r,L={"#D50000":"rgb(213, 0, 0)","#E67C73":"rgb(230, 124, 115)","#F4511E":"rgb(244, 81, 30)","#F6BF26":"rgb(246, 191, 38)","#33B679":"rgb(51, 182, 121)","#0B8043":"rgb(11, 128, 67)","#039BE5":"rgb(3, 155, 229)","#3F51B5":"rgb(63, 81, 181)","#7986CB":"rgb(121, 134, 203)","#8E24AA":"rgb(142, 36, 170)","#616161":"rgb(97, 97, 97)"},{locale:x}=me(),_=_e(),E=Ce(),w=te(),o=Se({services:[],activeService:void 0,calendarServiceSlug:void 0,calendarServiceId:void 0,showFullDecsription:!1,isMobileVersion:!1,isTabletVersion:!1,isForSpecificService:!1,isForCancellation:!1,isForReschedule:!1,calendarEvent:void 0,use24hFormat:!1,responsiveClass:"appointment_widgets-lg",calendarProvider:{},eventId:"",timezone:""});ee(()=>o.calendarServiceSlug,b=>{if(y.directWidget&&!o.isForSpecificService){const v=Object.assign({},_.params),k=Object.assign({},_.query);v.service=b,E.push({params:v,query:k})}});const Z=p(()=>o.services?o.services.find(b=>{var v;return((v=b.slug)==null?void 0:v.toLowerCase())===o.calendarServiceSlug||b.id===o.calendarServiceSlug}):void 0),O=p(()=>o.calendarProvider&&o.calendarProvider.calendar_provider_description?de(o.calendarProvider.calendar_provider_description,{length:330}):"");if(y.calendarData){o.calendarProvider=y.calendarData.calendarProvider,o.timezone=y.calendarData.timezone,o.eventId=y.calendarData.eventId;const b=_.name==="booking-slug"||_.name==="widget-bookings-slug"||_.name==="widget-booking-slug-slug"||_.name==="widget-booking-id"||_.name==="appointment-service"||_.name==="cancel-appointment"||y.funnelPreview&&!((D=y==null?void 0:y.calendarData)!=null&&D.isTeamSelected),v=o.eventId&&_.path.endsWith("cancel"),k=o.eventId&&!v;o.isForSpecificService=b,o.isForCancellation=v,o.isForReschedule=k,o.calendarEvent=y.calendarData.calendarEvent,o.services=([l,m]=Qe(async()=>Promise.all(y.calendarData.services.map(async h=>{if(h.event_color||(h.event_color="#8E24AA"),h.enable_recurring){const{booking_option:A,booking_overlap_default_status:J,...t}=h.recurring,ne={freq:t.freq,count:t.count,interval:t.interval||1,monthDays:t.month_days,weekDays:t.week_days};try{const P=await Te.generateRRuleText(ne);h.recurringRule=(P[0].toUpperCase()+P.slice(1)).replace("time","occurrence")}catch(P){console.error(P),h.recurringRule="-"}}return h.lightColor=L[h.event_color].replace(")",", 0.50)"),h.shortDescription=de(h.description,{length:70}),h}))),l=await l,m(),l),o.use24hFormat=_.query.use24hFormat!==void 0||o.calendarProvider.use24hFormat,_.query.lang?(x.value=_.query.lang,f.locale(_.query.lang)):x.value!==((K=o.calendarProvider)==null?void 0:K.language)&&(x.value=((j=o.calendarProvider)==null?void 0:j.language)||"en",f.locale(x.value)),b?o.services&&o.services.length>0&&(o.calendarServiceSlug=(M=o.services[0].slug)==null?void 0:M.toLowerCase()):o.calendarServiceSlug=(X=_.params.service)==null?void 0:X.toLowerCase()}ye(()=>{G(),q(),window.addEventListener("resize",q)}),et(()=>{window.removeEventListener("resize",q)});function I(b){return[...b].sort((v,k)=>v.order&&k.order?v.order-k.order:k.date_added._seconds-v.date_added._seconds)}function W(b){o.showFullDecsription&&(!b||!o.isTabletVersion&&!o.isMobileVersion)&&(o.showFullDecsription=!1)}function q(){{const b=w.value;b.clientWidth<726?o.isMobileVersion=!0:b.clientWidth<982?(o.isTabletVersion=!0,o.isMobileVersion=!1):(o.isTabletVersion=!1,o.isMobileVersion=!1),b.clientWidth>=1128?o.responsiveClass="appointment_widgets-xl":b.clientWidth>=982?o.responsiveClass="appointment_widgets-lg":b.clientWidth>=726?o.responsiveClass="appointment_widgets-md":o.responsiveClass="appointment_widgets-sm"}}function G(){if(y.directWidget)return;const b=w.value;if(!!b){const v=parseInt(b.scrollHeight);window.parent.postMessage(["highlevel.setHeight",{height:v>500?v+50:560,id:"msgsndr-calendar"}],"*")}}function T(b){S("on-submit",b)}return tt(()=>{G()}),(b,v)=>{var k;return s(),d("div",{id:"appointment_widgets",class:Y(["hl-app",e(o).responsiveClass]),ref_key:"hlWidget",ref:w},[i("div",{class:Y(["appointment_widgets--inner",{"direct-widget":r.directWidget!=!1}])},[!e(o).isForSpecificService&&!e(o).calendarServiceSlug&&e(o).calendarProvider?(s(),d("div",{key:0,class:"container appointment_service--list",onClick:v[3]||(v[3]=h=>W(!0))},[i("div",Ja,[i("h3",{class:"branding-name",textContent:u(e(o).calendarProvider.calendar_provider_name)},null,8,Qa),i("div",{class:Y(["branding-detail",{"show-more":e(o).showFullDecsription}])},[$(u(e(o).showFullDecsription?e(o).calendarProvider.calendar_provider_description:e(O))+" ",1),e(o).calendarProvider&&e(o).calendarProvider.calendar_provider_description&&e(o).calendarProvider.calendar_provider_description.length>230&&!e(o).showFullDecsription?(s(),d("span",{key:0,class:"pointer",onClick:v[0]||(v[0]=N(h=>e(o).showFullDecsription=!0,["stop","prevent"]))},"more...")):e(o).calendarProvider&&e(o).calendarProvider.description&&e(o).calendarProvider.description.length>230?(s(),d("span",{key:1,class:"pointer",onClick:v[1]||(v[1]=N(h=>W(!1),["stop","prevent"]))},"less")):g("",!0)],2)]),i("div",en,[(s(!0),d(ke,null,De(I(e(o).services),h=>(s(),d("div",{class:"appointment_widgets--service-col",key:h.id},[i("div",{class:"appointment_widgets--service",style:se({borderLeftColor:e(o).activeService===h.id?h.event_color:h.lightColor,borderTopColor:e(o).activeService===h.id?h.event_color:""}),onMouseover:A=>e(o).activeService=h.id,onMouseout:v[2]||(v[2]=A=>e(o).activeService=null),onClick:A=>e(o).calendarServiceSlug=h.id},[i("h3",{class:"appointment_service--name",textContent:u(h.name)},null,8,an),i("p",{textContent:u(h.shortDescription)},null,8,nn)],44,tn)]))),128))])])):(s(),ce(Xa,{key:1,isForSpecificService:e(o).isForSpecificService,calendarEvent:e(o).calendarEvent,calendarProvider:e(o).calendarProvider,calendarService:e(Z),calenderTimezone:(k=e(o).calendarProvider)==null?void 0:k.timezone,calendarEventId:e(o).eventId,isForCancellation:e(o).isForCancellation,isForReschedule:e(o).isForReschedule,isMobileVersion:e(o).isMobileVersion,isTabletVersion:e(o).isTabletVersion,use24hFormat:e(o).use24hFormat,redirect:r.redirect,funnelPreview:r.funnelPreview,pageUrl:r.pageUrl,urlParams:r.urlParams,baseReferrrer:r.baseReferrrer,stickyContactData:r.stickyContactData,stickyContactFingerprint:r.stickyContactFingerprint,onClearCalendarService:v[4]||(v[4]=h=>e(o).calendarServiceSlug=void 0),onOnSubmit:T},null,8,["isForSpecificService","calendarEvent","calendarProvider","calendarService","calenderTimezone","calendarEventId","isForCancellation","isForReschedule","isMobileVersion","isTabletVersion","use24hFormat","redirect","funnelPreview","pageUrl","urlParams","baseReferrrer","stickyContactData","stickyContactFingerprint"]))],2)],2)}}});export{pn as _};
